{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Coding/Project/kaizen-mc/lib/product-list.ts"],"sourcesContent":["export const points = [\r\n    { id: \"e25eac754ee04a28dd52e8130230ae8127b089b0\", amount: 10, image: \"/pp_010.webp\", color: \"from-yellow-400\", delay: \"100\" },\r\n    { id: \"e47dce73a9bf2b7262e2012484da16365b21208e\", amount: 20, image: \"/pp_020.webp\", color: \"from-yellow-500\", delay: \"200\" },\r\n    { id: \"fe0d15c0d556689a42072c37c525b8db38211608\", amount: 40, image: \"/prp_040.webp\", color: \"from-green-400\", delay: \"300\" },\r\n    { id: \"573c0aadebc30e6b479181bce24646e3487b7e9a\", amount: 80, image: \"/prp_080.webp\", color: \"from-green-500\", delay: \"400\" },\r\n    { id: \"da3fded92872bcfc223c45e34184f50f422bd577\", amount: 120, image: \"/prp_120.webp\", color: \"from-blue-400\", delay: \"500\" },\r\n    { id: \"8a19de8a99ba7f4e27b791198f7cb9a5bf5d7561\", amount: 160, image: \"/pp_160.webp\", color: \"from-blue-500\", delay: \"600\" },\r\n    { id: \"8778350ac8346b1576eb248fb5b44b858f8a1c4a\", amount: 240, image: \"/prp_240.webp\", color: \"from-purple-400\", delay: \"700\" },\r\n    { id: \"4d425b39c21425eef3b794440f4a8dce575eaf14\", amount: 400, image: \"/pp_400.webp\", color: \"from-purple-500\", delay: \"800\" },\r\n]"],"names":[],"mappings":";;;AAAO,MAAM,SAAS;IAClB;QAAE,IAAI;QAA4C,QAAQ;QAAI,OAAO;QAAgB,OAAO;QAAmB,OAAO;IAAM;IAC5H;QAAE,IAAI;QAA4C,QAAQ;QAAI,OAAO;QAAgB,OAAO;QAAmB,OAAO;IAAM;IAC5H;QAAE,IAAI;QAA4C,QAAQ;QAAI,OAAO;QAAiB,OAAO;QAAkB,OAAO;IAAM;IAC5H;QAAE,IAAI;QAA4C,QAAQ;QAAI,OAAO;QAAiB,OAAO;QAAkB,OAAO;IAAM;IAC5H;QAAE,IAAI;QAA4C,QAAQ;QAAK,OAAO;QAAiB,OAAO;QAAiB,OAAO;IAAM;IAC5H;QAAE,IAAI;QAA4C,QAAQ;QAAK,OAAO;QAAgB,OAAO;QAAiB,OAAO;IAAM;IAC3H;QAAE,IAAI;QAA4C,QAAQ;QAAK,OAAO;QAAiB,OAAO;QAAmB,OAAO;IAAM;IAC9H;QAAE,IAAI;QAA4C,QAAQ;QAAK,OAAO;QAAgB,OAAO;QAAmB,OAAO;IAAM;CAChI"}},
    {"offset": {"line": 116, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 122, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Coding/Project/kaizen-mc/lib/payment-list.ts"],"sourcesContent":["export const paymentMethods = {\r\n    ewallets: [\r\n        {\r\n            id: \"QRISC\",\r\n            name: \"QRIS\",\r\n        },\r\n    ],\r\n    virtualAccounts: [\r\n        {\r\n            id: \"BRIVA\",\r\n            name: \"BRI Virtual Account\",\r\n        },\r\n        {\r\n            id: \"BNIVA\",\r\n            name: \"BNI Virtual Account\",\r\n        },\r\n        {\r\n            id: \"MANDIRIVA\",\r\n            name: \"Mandiri Virtual Account\",\r\n        },\r\n        {\r\n            id: \"BCAVA\",\r\n            name: \"BCA Virtual Account\",\r\n        },\r\n    ],\r\n    retailStores: [\r\n        {\r\n            id: \"ALFAMART\",\r\n            name: \"Alfamart\",\r\n        },\r\n        {\r\n            id: \"INDOMARET\",\r\n            name: \"Indomaret\",\r\n        },\r\n    ],\r\n}"],"names":[],"mappings":";;;AAAO,MAAM,iBAAiB;IAC1B,UAAU;QACN;YACI,IAAI;YACJ,MAAM;QACV;KACH;IACD,iBAAiB;QACb;YACI,IAAI;YACJ,MAAM;QACV;QACA;YACI,IAAI;YACJ,MAAM;QACV;QACA;YACI,IAAI;YACJ,MAAM;QACV;QACA;YACI,IAAI;YACJ,MAAM;QACV;KACH;IACD,cAAc;QACV;YACI,IAAI;YACJ,MAAM;QACV;QACA;YACI,IAAI;YACJ,MAAM;QACV;KACH;AACL"}},
    {"offset": {"line": 161, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 167, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Coding/Project/kaizen-mc/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\nimport {points} from \"@/lib/product-list\";\r\nimport {paymentMethods} from \"@/lib/payment-list\";\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n\r\nexport function generateId() {\r\n  return Date.now() + Math.floor(Math.random() * 10000)\r\n}\r\n\r\nexport function fromHash(value: string) {\r\n  return points.find((item) => item.id === value)\r\n}\r\n\r\nexport function findPayment(payment: string) {\r\n  const allPayments = [\r\n    ...paymentMethods.ewallets,\r\n    ...paymentMethods.virtualAccounts,\r\n    ...paymentMethods.retailStores,\r\n  ];\r\n\r\n  return allPayments.find((item) => item.id === payment)?.name || \"Undefined payment\";\r\n}\r\n\r\nexport function formatCurrency(number: number) {\r\n  return new Intl.NumberFormat(\"id-ID\").format(number);\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAAA;AAEA;AACA;AAFA;;;;;AAIO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,uIAAA,CAAA,OAAI,AAAD,EAAE;AACtB;AAEO,SAAS;IACd,OAAO,KAAK,GAAG,KAAK,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK;AACjD;AAEO,SAAS,SAAS,KAAa;IACpC,OAAO,wHAAA,CAAA,SAAM,CAAC,IAAI,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK;AAC3C;AAEO,SAAS,YAAY,OAAe;IACzC,MAAM,cAAc;WACf,wHAAA,CAAA,iBAAc,CAAC,QAAQ;WACvB,wHAAA,CAAA,iBAAc,CAAC,eAAe;WAC9B,wHAAA,CAAA,iBAAc,CAAC,YAAY;KAC/B;IAED,OAAO,YAAY,IAAI,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK,UAAU,QAAQ;AAClE;AAEO,SAAS,eAAe,MAAc;IAC3C,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS,MAAM,CAAC;AAC/C"}},
    {"offset": {"line": 202, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 216, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Coding/Project/kaizen-mc/app/api/transaction/create/route.ts"],"sourcesContent":["import crypto from \"crypto\";\r\nimport { generateId } from \"@/lib/utils\";\r\nimport { NextRequest, NextResponse } from \"next/server\";\r\nimport { prisma } from \"@/lib/prisma\";\r\n\r\nconst PRIVATE_KEY = process.env.NEXT_PUBLIC_PRIVATE_KEY as string;\r\nconst API_KEY = process.env.NEXT_PUBLIC_API_KEY as string;\r\nconst MERCHANT_CODE = process.env.NEXT_PUBLIC_MERCHANT_CODE as string;\r\n\r\nexport async function POST(request: NextRequest) {\r\n    try {\r\n        const { productId, username, method, price } = await request.json();\r\n\r\n        if (!productId || !username || !method || !price) {\r\n            return NextResponse.json({\r\n                status: 400,\r\n                message: \"Invalid request data.\"\r\n            }, { status: 400 })\r\n        }\r\n\r\n        const MERCHANT_REF: string = generateId().toString();\r\n        const signature = crypto\r\n            .createHmac('sha256', PRIVATE_KEY)\r\n            .update(MERCHANT_CODE + MERCHANT_REF + price)\r\n            .digest('hex');\r\n\r\n        const expired = parseInt(String(Math.floor(Date.now() / 1000) + (60 * 60)))\r\n\r\n        const parameter = {\r\n            method: method,\r\n            merchant_ref: MERCHANT_REF,\r\n            amount: price,\r\n            customer_name: username,\r\n            customer_email: `${username.replace(/\\./g, \"\").replace(/\\s+/g, \"_\")}@kaizenmc.id`,\r\n            order_items: [{\r\n                name: productId,\r\n                price: price,\r\n                quantity: 1\r\n            }],\r\n            expired_time: expired,\r\n            signature: signature\r\n        }\r\n\r\n        const response = await fetch('https://tripay.co.id/api-sandbox/transaction/create', {\r\n            method: 'POST',\r\n            headers: {\r\n                Authorization: `Bearer ${API_KEY}`,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(parameter)\r\n        });\r\n\r\n        const result = await response.json();\r\n        console.log(result)\r\n\r\n        // await prisma.transaction.create({\r\n        //     data: {\r\n        //         reference: result.data.reference,\r\n        //         merchant_ref: result.data.merchant_ref,\r\n        //         nickname: result.data.customer_name,\r\n        //         amount: result.data.amount,\r\n        //         method: result.data.payment_method,\r\n        //         qr_url: result.data.qr_url,\r\n        //         pay_code: result.data.pay_code,\r\n        //         status: result.data.status,\r\n        //         expired_time: result.data.expired_time,\r\n        //     }\r\n        // })\r\n\r\n        return NextResponse.json({\r\n            status: 200,\r\n            message: 'Transaction created successfully',\r\n            data: result.data\r\n        }, { status: 200 })\r\n\r\n    } catch(error: unknown) {\r\n        if (error instanceof Error) {\r\n            return NextResponse.json({\r\n                status: 500,\r\n                message: error.message || \"An error occurred\"\r\n            })\r\n        } else {\r\n            return NextResponse.json({\r\n                status: 500,\r\n                message: \"An unknown error occurred\"\r\n            })\r\n        }\r\n    }\r\n}"],"names":[],"mappings":";;;AAAA;AACA;AACA;;;;AAGA,MAAM;AACN,MAAM;AACN,MAAM;AAEC,eAAe,KAAK,OAAoB;IAC3C,IAAI;QACA,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,QAAQ,IAAI;QAEjE,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,UAAU,CAAC,OAAO;YAC9C,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;gBACrB,QAAQ;gBACR,SAAS;YACb,GAAG;gBAAE,QAAQ;YAAI;QACrB;QAEA,MAAM,eAAuB,CAAA,GAAA,8GAAA,CAAA,aAAU,AAAD,IAAI,QAAQ;QAClD,MAAM,YAAY,qGAAA,CAAA,UAAM,CACnB,UAAU,CAAC,UAAU,aACrB,MAAM,CAAC,gBAAgB,eAAe,OACtC,MAAM,CAAC;QAEZ,MAAM,UAAU,SAAS,OAAO,KAAK,KAAK,CAAC,KAAK,GAAG,KAAK,QAAS,KAAK;QAEtE,MAAM,YAAY;YACd,QAAQ;YACR,cAAc;YACd,QAAQ;YACR,eAAe;YACf,gBAAgB,GAAG,SAAS,OAAO,CAAC,OAAO,IAAI,OAAO,CAAC,QAAQ,KAAK,YAAY,CAAC;YACjF,aAAa;gBAAC;oBACV,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;aAAE;YACF,cAAc;YACd,WAAW;QACf;QAEA,MAAM,WAAW,MAAM,MAAM,uDAAuD;YAChF,QAAQ;YACR,SAAS;gBACL,eAAe,CAAC,OAAO,EAAE,SAAS;gBAClC,gBAAgB;YACpB;YACA,MAAM,KAAK,SAAS,CAAC;QACzB;QAEA,MAAM,SAAS,MAAM,SAAS,IAAI;QAClC,QAAQ,GAAG,CAAC;QAEZ,oCAAoC;QACpC,cAAc;QACd,4CAA4C;QAC5C,kDAAkD;QAClD,+CAA+C;QAC/C,sCAAsC;QACtC,8CAA8C;QAC9C,sCAAsC;QACtC,0CAA0C;QAC1C,sCAAsC;QACtC,kDAAkD;QAClD,QAAQ;QACR,KAAK;QAEL,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YACrB,QAAQ;YACR,SAAS;YACT,MAAM,OAAO,IAAI;QACrB,GAAG;YAAE,QAAQ;QAAI;IAErB,EAAE,OAAM,OAAgB;QACpB,IAAI,iBAAiB,OAAO;YACxB,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;gBACrB,QAAQ;gBACR,SAAS,MAAM,OAAO,IAAI;YAC9B;QACJ,OAAO;YACH,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;gBACrB,QAAQ;gBACR,SAAS;YACb;QACJ;IACJ;AACJ"}},
    {"offset": {"line": 302, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}