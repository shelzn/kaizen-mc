{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Coding/Project/kaizen-mc/app/api/transaction/status/route.ts"],"sourcesContent":["import {NextRequest, NextResponse} from \"next/server\";\r\n\r\nconst API_KEY = process.env.NEXT_PUBLIC_API_KEY as string;\r\n\r\nexport async function POST(request: NextRequest) {\r\n    try {\r\n        const { id } = await request.json();\r\n\r\n        const url = `https://tripay.co.id/api-sandbox/transaction/detail?reference=${id}`;\r\n\r\n        const response = await fetch(url, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Authorization': `Bearer ${API_KEY}`,\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n\r\n        if (!response.ok) {\r\n            return NextResponse.json({\r\n                status: 400,\r\n                message: \"Failed to fetch transaction status.\"\r\n            }, { status: 400 })\r\n        }\r\n\r\n        const result = await response.json();\r\n\r\n        return NextResponse.json({\r\n            status: 200,\r\n            message: \"Fetch transaction success\",\r\n            data: result.data\r\n        }, { status: 200 })\r\n    } catch (error: unknown) {\r\n        if (error instanceof Error) {\r\n            return NextResponse.json({\r\n                status: 500,\r\n                message: error.message || \"An error occurred\"\r\n            }, { status: 500 })\r\n        } else {\r\n            return NextResponse.json({\r\n                status: 500,\r\n                message: \"An unknown error occurred\"\r\n            }, { status: 500 })\r\n        }\r\n    }\r\n}"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM;AAEC,eAAe,KAAK,OAAoB;IAC3C,IAAI;QACA,MAAM,EAAE,EAAE,EAAE,GAAG,MAAM,QAAQ,IAAI;QAEjC,MAAM,MAAM,CAAC,8DAA8D,EAAE,IAAI;QAEjF,MAAM,WAAW,MAAM,MAAM,KAAK;YAC9B,QAAQ;YACR,SAAS;gBACL,iBAAiB,CAAC,OAAO,EAAE,SAAS;gBACpC,gBAAgB;YACpB;QACJ;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YACd,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;gBACrB,QAAQ;gBACR,SAAS;YACb,GAAG;gBAAE,QAAQ;YAAI;QACrB;QAEA,MAAM,SAAS,MAAM,SAAS,IAAI;QAElC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YACrB,QAAQ;YACR,SAAS;YACT,MAAM,OAAO,IAAI;QACrB,GAAG;YAAE,QAAQ;QAAI;IACrB,EAAE,OAAO,OAAgB;QACrB,IAAI,iBAAiB,OAAO;YACxB,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;gBACrB,QAAQ;gBACR,SAAS,MAAM,OAAO,IAAI;YAC9B,GAAG;gBAAE,QAAQ;YAAI;QACrB,OAAO;YACH,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;gBACrB,QAAQ;gBACR,SAAS;YACb,GAAG;gBAAE,QAAQ;YAAI;QACrB;IACJ;AACJ"}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}